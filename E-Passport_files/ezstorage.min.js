!function(e){e("document").ready(function(){window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(e){return String(e).evalJSON()}||e.parseJSON||e.evalJSON,Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||e.toJSON});var t=e.ezstorage=function(r,n,o,i){if((i=e.extend({},t.settings,i)).expires)if(i.expires instanceof Date);else if("number"==typeof i.expires)i.expires=new Date((new Date).setTime((new Date).getTime()+24*i.expires*60*60*1e3));else try{i.expires=new Date(i.expires)}catch(e){delete i.expires}switch(r){case"enabled":return"undefined"!=typeof Storage||(e.cookie("ezstorage_cookies_enabled","enabled",{path:"/"}),!!e.cookie("ezstorage_cookies_enabled")&&(e.removeCookie("ezstorage_cookies_enabled",{path:"/"}),!0));case"get":if("undefined"!=typeof Storage){var s=localStorage.getItem(n);if(s){try{s=JSON.parse(s)}catch(e){return s}return s.ezstorage?s.expires&&new Date(s.expires)<new Date?(localStorage.removeItem(n),null):i.full?s:s.value:s}if(s=sessionStorage.getItem(n))try{return JSON.parse(s)}catch(e){return s}}return e.cookie(n);case"set":var a=JSON.stringify(o);return"undefined"!=typeof Storage?i.expires||i.persist?(a=JSON.stringify(e.extend({},{value:o},i)),localStorage.setItem(n,a)):sessionStorage.setItem(n,a):e.cookie(n,a,i),a;case"remove":return"undefined"!=typeof Storage&&(localStorage.removeItem(n),sessionStorage.removeItem(n)),e.removeCookie(n,i),!0}return null};e.extend(t,{enabled:function(){return this("enabled")},get:function(e,t){return this("get",e,null,t)},set:function(e,t,r){return this("set",e,t,r)},remove:function(e,t){return this("remove",e,null,t)},defaultSettings:function(){this.settings={ezstorage:!0,path:"/"}},settings:{ezstorage:!0,path:"/"}})}(jQuery);